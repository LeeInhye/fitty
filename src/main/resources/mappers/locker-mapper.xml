<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="lockerMapper">
	
	<resultMap id="LockerResult" type="Locker">
		<result column="lk_no" property="lkNo" />
		<result column="lk_enroll_date" property="lkEnrollDate" />
		<result column="lk_block" property="lkBlock"/>
		<result column="user_no" property="userNo"/>
		<result column="user_name" property="userName"/>
		<result column="assign_date" property="assignDate"/>
		<result column="start_date" property="startDate"/>
		<result column="end_Date" property="endDate"/>
	</resultMap>
	
	<select id="selectListCount" resultType="_int">
		select
				count(*)
		   from tb_locker
	</select>
	
	<select id="selectList" resultMap="LockerResult">
		select
				lk_no
			  , lk_enroll_date
			  , lk_block
			  , user_no
			  , user_name
			  , assign_date
			  , start_date
			  , end_date
		   from tb_locker
           join tb_lk_asn using (lk_no)
           join tb_user using (user_no)
		   		
	</select>
</mapper>
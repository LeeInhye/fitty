<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="userMapper">
	
	<resultMap type="User" id="userResult">
		<result column="user_no" property="userNo" />
		<result column="user_name" property="userName" />
		<result column="user_phone" property="userPhone" />
		<result column="user_gender" property="userGender" />
		<result column="user_birth" property="userBirth" />
		<result column="user_type" property="userType" />
		<result column="user_profile_url" property="userProfileUrl" />
		<result column="user_sdate" property="userSdate" />
		<result column="user_month" property="userMonth" />
		<result column="user_edate" property="userEdate" />
		<result column="user_pt" property="userPt" />
	</resultMap>

	<!-- 회원등록 -->
	<insert id="insertUser">
		insert 
		  into tb_user
		  (
		      user_no
		    , user_name
		    , user_phone
		    , user_birth
		    , user_gender
		    , user_type
		    , user_sdate
		    , user_month
		    , user_profile_url
		    )
		    values
		    (
		     seq_user_no.nextval
		    , #{userName}
		    , #{userPhone}
		    , #{userBirth}
		    , #{userGender}
		    , #{userType}
		    , #{userSdate}
		    , #{userMonth}
		    , #{userProfileUrl}
		    )
	</insert>
	
	<select id="selectListCount" resultType="_int">
		select
				count(*)
		  from	tb_user
	</select>
	
	<select id="selectList" resultMap="userResult">
		select
	            user_name
	        ,   user_no
	        ,   user_profile_url
	        ,   user_gender
	        ,   user_sdate
	        ,   to_char(add_months(user_sdate, user_month), 'YYYY-MM-DD') AS "user_edate"
	        ,   user_type
	        ,   user_pt
		 from   tb_user
		order
		   by 	user_no desc
	</select>
	
	<!-- to_char(user_date, 'YYYY/MM/DD') AS "" -->
	
	
	
</mapper>